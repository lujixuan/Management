<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sy.dao.ProjectDao">
    <!-- 目的：为DAO接口方法提供sql语句配置 -->
    <!-- 查询用户和密码进行登录 -->
    <select id="listProject" resultType="com.sy.dto.ProjectDto" >
		select  p.projectId,
			p.projectName,
			p.projectCode,
			p.projectDate,
			p.projectDescribe,
			pi.projectInfoUserId userId
		from projects p
			join projectInfos pi on p.projectId=pi.projectInfoProjectId
		and pi.projectType='创建人'
		<where>
			<if test="projectName != null and projectName != ''">
				AND p.projectName = #{projectName}
			</if>
			<if test="projectCode != null and projectCode != ''">
				AND p.projectCode = #{projectCode}
			</if>
			<if test="userId != null and userId != ''">
				AND pi.projectInfoUserId = #{userId}
			</if>
			<if test="projectDate != null and projectDate != '' and projectToDate != null and projectToDate != ''">
				AND p.projectDate between #{projectDate} and #{projectToDate}
			</if>
		</where>
	</select>

    <!--&lt;!&ndash; 增加用户名和密码进行注册  &ndash;&gt;-->
    <!--<insert id="registerByUserId" parameterType="com.sy.dto.UserDto">-->

 	    <!--insert into users (userId,userPwd,userName)-->
 	    <!--values-->
 	    <!--(#{userId},#{userPwd},#{userName})-->

 	<!--</insert>-->

</mapper>